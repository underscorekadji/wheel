#!/usr/bin/env sh

# Skip Husky hooks when running in CI (e.g., GitHub Actions)
if [ "$GITHUB_ACTIONS" = "true" ] || [ "$CI" = "true" ]; then
  echo "â„¹ï¸  Skipping pre-commit hook in CI environment"
  exit 0
fi

echo "ğŸ” Running pre-commit checks..."

# Use the check script for consistency
if ! npm run check; then
  echo ""
  echo "âŒ Pre-commit checks failed!"
  echo ""
  echo "ğŸ’¡ Fix with: npm run format && npm run lint:fix"
  echo ""
  exit 1
fi

echo "âœ… All pre-commit checks passed!"
